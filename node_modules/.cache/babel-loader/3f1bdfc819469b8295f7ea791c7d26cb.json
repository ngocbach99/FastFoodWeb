{"ast":null,"code":"import _objectSpread from \"D:\\\\React-redux-shopping-web-app-master (1)\\\\React-redux-shopping-web-app-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"D:\\\\React-redux-shopping-web-app-master (1)\\\\React-redux-shopping-web-app-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\React-redux-shopping-web-app-master (1)\\\\React-redux-shopping-web-app-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\React-redux-shopping-web-app-master (1)\\\\React-redux-shopping-web-app-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\React-redux-shopping-web-app-master (1)\\\\React-redux-shopping-web-app-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\React-redux-shopping-web-app-master (1)\\\\React-redux-shopping-web-app-master\\\\src\\\\views\\\\ProductDetails\\\\ProductDetails.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addToCart } from \"../../store/actions\";\nimport BreadCrumbs from \"../../components/UI/BreadCrumbs/BreadCrumbs\";\nimport Ratings from \"../../components/Ratings/Ratings\";\nimport AddToWishList from \"../../components/AddToWishlist/AddToWishlist\";\nimport ProductFeatures from \"../../components/ProductCard/ProductFeatures\";\nimport { currencyToUse, productPrice, productDiscountPrice } from \"../../Utility/currency\";\nimport HomeSale from \"../../views/Home/components/HomeSale\";\nimport \"./ProductDetails.css\";\n\nvar ProductDetails = /*#__PURE__*/function (_Component) {\n  _inherits(ProductDetails, _Component);\n\n  var _super = _createSuper(ProductDetails);\n\n  function ProductDetails() {\n    var _this;\n\n    _classCallCheck(this, ProductDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      productDetails: {\n        id: null,\n        size: \"\",\n        quantity: 1\n      }\n    };\n    _this.product = _this.props.productProp;\n    _this.currencyKeys = currencyToUse(_this.props.usedCurrencyProp);\n\n    _this.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name;\n\n      if (name === \"quantity\") {\n        if (!value.match(/^[0-9]+$/)) {\n          value = 1;\n        }\n      }\n\n      _this.setState({\n        productDetails: _objectSpread(_objectSpread({}, _this.state.productDetails), {}, {\n          [name]: value\n        })\n      });\n    };\n\n    _this.handleAddToCart = function () {\n      _this.props.addProductToCartProp(_this.state.productDetails);\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductDetails, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.productProp) {\n        this.setState(function (prevState) {\n          return {\n            productDetails: _objectSpread(_objectSpread({}, prevState.productDetails), {}, {\n              id: _this2.props.productProp.id\n            })\n          };\n        });\n      }\n    }\n  }, {\n    key: \"truncateProductName\",\n    value: function truncateProductName() {\n      var productName = this.product.name;\n      return productName.length > 45 ? \"\".concat(productName.substring(0, 45), \"...\") : productName;\n    }\n  }, {\n    key: \"disableAddToCartButton\",\n    value: function disableAddToCartButton() {\n      var prodDetails = this.state.productDetails;\n      var generalValidations = !prodDetails.id || !prodDetails.quantity || prodDetails.quantity < 1 || prodDetails.quantity > this.product.quantity;\n\n      if (!this.product.sizes) {\n        return generalValidations;\n      }\n\n      return generalValidations || !prodDetails.size;\n    }\n  }, {\n    key: \"handleAdditionSubtraction\",\n    value: function handleAdditionSubtraction(action) {\n      var stateData = this.state.productDetails;\n\n      if (action === \"subtract\" && stateData.quantity < 1) {\n        return;\n      }\n\n      var quantity = parseInt(stateData.quantity);\n      var newValue = action === \"subtract\" ? quantity - 1 : quantity + 1;\n      this.setState(function (prevState) {\n        return {\n          productDetails: _objectSpread(_objectSpread({}, prevState.productDetails), {}, {\n            quantity: newValue\n          })\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }\n      }, !this.product ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container py-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"shop-div p-4 text-center w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }\n      }, \"Product Not Found\"))) : /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container mt-2 mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(BreadCrumbs, {\n        breadCrumbLinks: [{\n          label: this.product.category,\n          to: \"/category/\".concat(this.product.category)\n        }, {\n          label: this.truncateProductName(),\n          to: null\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-card bg-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"product-card-image\",\n        src: require(\"../../assets/images/shop_images/\".concat(this.product.img)),\n        alt: this.product.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-card-details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-title-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"product-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }\n      }, this.product.name), /*#__PURE__*/React.createElement(AddToWishList, {\n        productId: this.product.id,\n        title: \"add to wishlist\",\n        classStyleName: \"product-wishlist\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 19\n        }\n      }, this.product.vendor.name ? /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }, \"Sold By : \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"product-vendor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      }, this.product.vendor.name)) : null), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Ratings, {\n        ratings: this.product.ratings,\n        containerClassName: \"product-rating\",\n        fullStarIcon: \"full-star-icon\",\n        halfStarIcon: \"half-star-icon\",\n        emptyStarIcon: \"empty-star-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-price-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"product-price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }\n      }, this.currencyKeys.name, productPrice(this.product.price, this.currencyKeys.value)), this.product.discount_price ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"product-discount-price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 23\n        }\n      }, this.currencyKeys.name, productPrice(this.product.discount_price, this.currencyKeys.value)) : null, this.product.discount_price ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"product-percentage-discount\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 23\n        }\n      }, productDiscountPrice(this.product.price, this.product.discount_price)) : null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-features-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-features\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"product-features-title text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 23\n        }\n      }, \"Features:\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"feature-fulfillmemt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(ProductFeatures, {\n        product: this.product,\n        showText: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 25\n        }\n      }))), this.product.color ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-features\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"product-features-title text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }\n      }, \"colors:\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"feature-text feature-color\",\n        style: {\n          backgroundColor: this.product.color === \"White\" ? \"black\" : this.product.color\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }\n      }, this.product.color)) : null, this.product.sizes ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-features\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"product-features-title text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 25\n        }\n      }, \"Size:\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"feature-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        className: \"custom-select custom-select-sm\",\n        name: \"size\",\n        value: this.state.productDetails.size,\n        onChange: function onChange(event) {\n          return _this3.handleInputChange(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }\n      }, \"Select Size\"), this.product.sizes.map(function (size, index) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: index,\n          value: size,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 31\n          }\n        }, size);\n      })))) : null, this.product.quantity ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-features\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"product-features-title text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 25\n        }\n      }, \"quantity:\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-quantity\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        onClick: function onClick() {\n          return _this3.handleAdditionSubtraction(\"subtract\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 27\n        }\n      }, \"-\"), /*#__PURE__*/React.createElement(\"input\", {\n        name: \"quantity\",\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Qty\",\n        value: this.state.productDetails.quantity,\n        onChange: function onChange(event) {\n          return _this3.handleInputChange(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        onClick: function onClick() {\n          return _this3.handleAdditionSubtraction(\"add\");\n        },\n        disabled: this.state.productDetails.quantity >= this.product.quantity,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 27\n        }\n      }, \"+\"))) : null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-block btn-lg\",\n        disabled: this.disableAddToCartButton(),\n        onClick: this.handleAddToCart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }\n      }, this.product.quantity ? \"Add To Cart\" : \"Out of Stock\"))))), /*#__PURE__*/React.createElement(HomeSale, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n\n  return ProductDetails;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  return {\n    productProp: state.products.find(function (product) {\n      return product.slug === ownProps.match.params.productSlug;\n    }),\n    usedCurrencyProp: state.usedCurrency,\n    showModal: state.productMaxShowModal,\n    modalmessage: state.showModal\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addProductToCartProp: function addProductToCartProp(productDetails) {\n      return dispatch(addToCart(productDetails));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetails);","map":{"version":3,"sources":["D:/React-redux-shopping-web-app-master (1)/React-redux-shopping-web-app-master/src/views/ProductDetails/ProductDetails.jsx"],"names":["React","Component","connect","addToCart","BreadCrumbs","Ratings","AddToWishList","ProductFeatures","currencyToUse","productPrice","productDiscountPrice","HomeSale","ProductDetails","state","productDetails","id","size","quantity","product","props","productProp","currencyKeys","usedCurrencyProp","handleInputChange","event","target","value","name","match","setState","handleAddToCart","addProductToCartProp","prevState","productName","length","substring","prodDetails","generalValidations","sizes","action","stateData","parseInt","newValue","label","category","to","truncateProductName","require","img","vendor","ratings","price","discount_price","color","backgroundColor","map","index","handleAdditionSubtraction","disableAddToCartButton","mapStateToProps","ownProps","products","find","slug","params","productSlug","usedCurrency","showModal","productMaxShowModal","modalmessage","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addToCart } from \"../../store/actions\";\nimport BreadCrumbs from \"../../components/UI/BreadCrumbs/BreadCrumbs\";\nimport Ratings from \"../../components/Ratings/Ratings\";\nimport AddToWishList from \"../../components/AddToWishlist/AddToWishlist\";\nimport ProductFeatures from \"../../components/ProductCard/ProductFeatures\";\nimport {\n  currencyToUse,\n  productPrice,\n  productDiscountPrice,\n} from \"../../Utility/currency\";\nimport HomeSale from \"../../views/Home/components/HomeSale\";\nimport \"./ProductDetails.css\";\n\nclass ProductDetails extends Component {\n  state = {\n    productDetails: {\n      id: null,\n      size: \"\",\n      quantity: 1,\n    },\n  };\n\n  componentDidMount() {\n    if (this.props.productProp) {\n      this.setState((prevState) => ({\n        productDetails: {\n          ...prevState.productDetails,\n          id: this.props.productProp.id,\n        },\n      }));\n    }\n  }\n\n  product = this.props.productProp;\n  currencyKeys = currencyToUse(this.props.usedCurrencyProp);\n\n  truncateProductName() {\n    const productName = this.product.name;\n    return productName.length > 45\n      ? `${productName.substring(0, 45)}...`\n      : productName;\n  }\n\n  disableAddToCartButton() {\n    let prodDetails = this.state.productDetails;\n    let generalValidations =\n      !prodDetails.id ||\n      !prodDetails.quantity ||\n      prodDetails.quantity < 1 ||\n      prodDetails.quantity > this.product.quantity;\n    if (!this.product.sizes) {\n      return generalValidations;\n    }\n    return generalValidations || !prodDetails.size;\n  }\n\n  handleAdditionSubtraction(action) {\n    let stateData = this.state.productDetails;\n    if (action === \"subtract\" && stateData.quantity < 1) {\n      return;\n    }\n\n    let quantity = parseInt(stateData.quantity);\n    let newValue = action === \"subtract\" ? quantity - 1 : quantity + 1;\n\n    this.setState((prevState) => ({\n      productDetails: {\n        ...prevState.productDetails,\n        quantity: newValue,\n      },\n    }));\n  }\n\n  handleInputChange = (event) => {\n    const target = event.target;\n    let value = target.value;\n    const name = target.name;\n\n    if (name === \"quantity\") {\n      if (!value.match(/^[0-9]+$/)) {\n        value = 1;\n      }\n    }\n\n    this.setState({\n      productDetails: { ...this.state.productDetails, [name]: value },\n    });\n  };\n\n  handleAddToCart = () => {\n    this.props.addProductToCartProp(this.state.productDetails);\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {!this.product ? (\n          <div className=\"container py-4\">\n            <div className={\"shop-div p-4 text-center w-100\"}>\n              <h5>Product Not Found</h5>\n            </div>\n          </div>\n        ) : (\n          <span>\n            <div className=\"container mt-2 mb-4\">\n              <BreadCrumbs\n                breadCrumbLinks={[\n                  {\n                    label: this.product.category,\n                    to: `/category/${this.product.category}`,\n                  },\n                  {\n                    label: this.truncateProductName(),\n                    to: null,\n                  },\n                ]}\n              />\n              <div className=\"product-card bg-white\">\n                <img\n                  className=\"product-card-image\"\n                  src={require(`../../assets/images/shop_images/${this.product.img}`)}\n                  alt={this.product.name}\n                />\n                <div className=\"product-card-details\">\n                  <div className=\"product-title-container\">\n                    <h3 className=\"product-title\">{this.product.name}</h3>\n                    <AddToWishList\n                      productId={this.product.id}\n                      title={\"add to wishlist\"}\n                      classStyleName={\"product-wishlist\"}\n                    />\n                  </div>\n                  <div>\n                    {this.product.vendor.name ? (\n                      <span>\n                        <span className=\"text-muted\">Sold By : </span>\n                        <span className=\"product-vendor\">\n                          {this.product.vendor.name}\n                        </span>\n                      </span>\n                    ) : null}\n                  </div>\n                  <div>\n                    <span>\n                      <Ratings\n                        ratings={this.product.ratings}\n                        containerClassName={\"product-rating\"}\n                        fullStarIcon={\"full-star-icon\"}\n                        halfStarIcon={\"half-star-icon\"}\n                        emptyStarIcon={\"empty-star-icon\"}\n                      />\n                    </span>\n                  </div>\n                  <div className=\"product-price-container\">\n                    <span className=\"product-price\">\n                      {this.currencyKeys.name}\n                      {productPrice(\n                        this.product.price,\n                        this.currencyKeys.value\n                      )}\n                    </span>\n                    {this.product.discount_price ? (\n                      <span className=\"product-discount-price\">\n                        {this.currencyKeys.name}\n                        {productPrice(\n                          this.product.discount_price,\n                          this.currencyKeys.value\n                        )}\n                      </span>\n                    ) : null}\n                    {this.product.discount_price ? (\n                      <span className=\"product-percentage-discount\">\n                        {productDiscountPrice(\n                          this.product.price,\n                          this.product.discount_price\n                        )}\n                      </span>\n                    ) : null}\n                  </div>\n\n                  <div className=\"product-features-container\">\n                    <div className=\"product-features\">\n                      <p className=\"product-features-title text-muted\">\n                        Features:\n                      </p>\n                      <div className=\"feature-fulfillmemt\">\n                        <ProductFeatures product={this.product} showText />\n                      </div>\n                    </div>\n                    {this.product.color ? (\n                      <div className=\"product-features\">\n                        <p className=\"product-features-title text-muted\">\n                          colors:\n                        </p>\n                        <span\n                          className=\"feature-text feature-color\"\n                          style={{\n                            backgroundColor:\n                              this.product.color === \"White\"\n                                ? \"black\"\n                                : this.product.color,\n                          }}\n                        >\n                          {this.product.color}\n                        </span>\n                      </div>\n                    ) : null}\n                    {this.product.sizes ? (\n                      <div className=\"product-features\">\n                        <p className=\"product-features-title text-muted\">\n                          Size:\n                        </p>\n                        <span className=\"feature-text\">\n                          <select\n                            className=\"custom-select custom-select-sm\"\n                            name=\"size\"\n                            value={this.state.productDetails.size}\n                            onChange={(event) => this.handleInputChange(event)}\n                          >\n                            <option value=\"\" disabled>\n                              Select Size\n                            </option>\n                            {this.product.sizes.map((size, index) => (\n                              <option key={index} value={size}>\n                                {size}\n                              </option>\n                            ))}\n                          </select>\n                        </span>\n                      </div>\n                    ) : null}\n\n                    {this.product.quantity ? (\n                      <div className=\"product-features\">\n                        <p className=\"product-features-title text-muted\">\n                          quantity:\n                        </p>\n                        <div className=\"product-quantity\">\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-secondary\"\n                            onClick={() =>\n                              this.handleAdditionSubtraction(\"subtract\")\n                            }\n                          >\n                            -\n                          </button>\n                          <input\n                            name=\"quantity\"\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Qty\"\n                            value={this.state.productDetails.quantity}\n                            onChange={(event) => this.handleInputChange(event)}\n                          ></input>\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-secondary\"\n                            onClick={() =>\n                              this.handleAdditionSubtraction(\"add\")\n                            }\n                            disabled={\n                              this.state.productDetails.quantity >=\n                              this.product.quantity\n                            }\n                          >\n                            +\n                          </button>\n                        </div>\n                      </div>\n                    ) : null}\n                  </div>\n\n                  <div className=\"mt-4\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-primary btn-block btn-lg\"\n                      disabled={this.disableAddToCartButton()}\n                      onClick={this.handleAddToCart}\n                    >\n                      {this.product.quantity ? \"Add To Cart\" : \"Out of Stock\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <HomeSale />\n          </span>\n        )}\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    productProp: state.products.find(\n      (product) => product.slug === ownProps.match.params.productSlug\n    ),\n    usedCurrencyProp: state.usedCurrency,\n    showModal: state.productMaxShowModal,\n    modalmessage: state.showModal,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addProductToCartProp: (productDetails) =>\n      dispatch(addToCart(productDetails)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetails);\n"]},"metadata":{},"sourceType":"module"}